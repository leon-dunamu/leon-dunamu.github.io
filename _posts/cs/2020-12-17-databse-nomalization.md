---
layout: post
title: "database 정규화"
subtitle: "frontend 면접 대비 컴퓨터 기초"
author: "Seog"
header-style: text
tags: 
  - Frontend
  - ComputerScience
---

## 릴레이션

같은 성격의 데이터들의 집합을 의미. 흔히 테이블이라고 말하는 용어와 같은 의미로 이론적인 용어.

릴레이션은 튜플과 에트리뷰트로 데이터를 정렬하여 관리한다.

- 한 릴레이션에 정의된 튜플들은 모두 다르다.
- 한 릴레이션에 정의된 튜플들은 순서에 무관하다.
- 튜플들은 시간에 따라 변한다.
- 릴레이션 스키마를 구성하는 에트리뷰트의 값은 동일해도 된다.
- 에트리뷰트는 더 이상 쪼갤 수 없는 원자값으로 구성된다.
- 릴레이션을 구성하는 튜플을 유일하게 식별하기 위한 속성들의 부분집합을 키(Key)로 설정한다.

<br/>

## 정규화

논리적 데이터 모델링 단계에서 <span style="background-color:rgb(217, 242, 255);">데이터의 중복과 종속으로 인한 **이상 현상(anomaly)** 을 방지</span>하기 위해, 속성들 간의 종속 관계를 분석하여 <span style="background-color:rgb(245, 252, 212);">무결성을 유지하면서 다수의 릴레이션으로 분리</span>하는 과정

정규형들은 <span style="background-color:rgb(255, 217, 235);">차수가 높아질 수록 제약조건이 증가</span>된다는 특징

### 1. 제 1정규형

한 릴레이션을 구성하는 모든 도메인이 <span style="background-color:rgb(245, 252, 212);">원자값</span>으로 된 정규형

### 2. 제 2정규형

제 1정규형을 만족하면서 릴레이션에 존재하는 **부분 함수적 종속을 제거**하여, **<span style="background-color:rgb(217, 242, 255);">모든 속성이 기본키에 완전 함수 종속</span>**이 되도록 만들어진 정규형

### 3. 제 3정규형

제2정규형을 만족하면서 릴레이션을 구성하는 속성들 간의 **<span style="background-color:rgb(223, 255, 217);">이행적 종속관계를 분해**하여 **속성들이 비이행적 함수 종속관계를 만족</span>**하도록 만들어진 정규형

### 4. 보이스 코드

제3정규형을 만족하면서 릴레이션의 **모든 결정자가 후보키**가 되도록 하는 정규형

### 5. 제 4정규형

보이스코드를 만족하면서 릴레이션에서 다치 종속 관계를 제거한 정규형

- 다치 종속 : 두 속성이 1:다 대응이 되는 경우

### 6. 제 5정규형

후보키를 통하지 않은 조인 종속을 제거한 정규형

<br/>

## 역정규화

정규화를 통해 <span style="background-color:rgb(217, 242, 255);">분리되었던 릴레이션</span>에서 중복을 허용하고 다시 통합하거나 분할하여 <span style="background-color:rgb(217, 242, 255);">구조를 재조정</span>하는 과정

정규화된 릴레이션은 하나의 릴레이션을 분해하기 때문에 원하는 자료가 하나의 릴레이션에 존재하지 않아 외래키를 이용해 참조해야하는 상황이 잦아집니다.

이는 데이터베이스에 저장된 자료를 검색하는 시간을 증가시키며 성능을 저하시킬 수 있다.

따라서 데이터베이스의 <span style="background-color:rgb(245, 252, 212);">물리적 설계 과정에서 성능을 향상시키기 위해 역정규화를 실행</span>

### 1. 릴레이션 역 정규화

릴레이션의 역정규화는 릴레이션을 병합하는 방법과 분할하는 방법이 존재

#### 릴레이션 병합

두 릴레이션 간의 <span style="background-color:rgb(255, 217, 235);">잦은 참조로 성능이 저하</span>될 경우 이 문제를 해결하기 위해 병합

#### 릴레이션 분할

릴레이션의 데이터를 검색할때는 목록중의 데이터를 순차적으로 조사하여 원하는 자료를 찾습니다.

그래서 자주 사용하지 않는 속성이나 튜플이 릴레이션에 있을 경우 검색시 성능을 저하하게 만듭니다.

이 경우에는 자주 사용하는 속성이나 튜플을 분해하여 성능을 향상시킵니다. 이 분할에는

- **수직 분할**

  <span style="background-color:rgb(245, 252, 212);"><span style="background-color:rgb(217, 242, 255);">자주 사용하는 속성과 그렇지 않는 속성을 구분해서 분할</span>

- **수평 분할**

  <span style="background-color:rgb(237, 217, 255);"><span style="background-color:rgb(247, 205, 223);">자주 사용하는 튜플과 그렇지 않는 튜플을 구분해서 분할</span>

### 2. 속성 역 정규화

릴레이션의 성능을 향상시키기 위해 속성 또는 파생 속성을 추가

> 현재 릴레이션에 없는 속성이지만 작업의 효율을 위해 한 속성으로부터의 계산이나 가공에 의해 파상됨
